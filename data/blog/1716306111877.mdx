---
title: ä½¿ç”¨ Docker éƒ¨ç½²14.7k stars çš„å„å¤§ AI æ¨¡å‹ key åˆ†å‘åŠæ¥å£ç®¡ç†ç³»ç»Ÿ
date: 5/27/2024
tags: [AI]
draft: false
summary: è¿™ä¸ªå¥½åƒæœ‰ç‚¹æå¤´å“¦
---

å¯¹äºå¯¹ AI æ„Ÿå…´è¶£çš„å°ä¼™ä¼´ä»¬æ¥è¯´ï¼Œä¸€å®šå¬è¯´è¿‡å¤§åé¼é¼çš„ One API é¡¹ç›®ï¼Œå®ƒåœ¨ Github ä¸Šæ‹¥æœ‰ 14.7k çš„ stars å’Œ 3.4k çš„ forksï¼Œé¡¹ç›®ç®€ä»‹å¦‚ä¸‹ï¼š

> OpenAI æ¥å£ç®¡ç† & åˆ†å‘ç³»ç»Ÿï¼Œæ”¯æŒ Azureã€Anthropic Claudeã€Google PaLM 2 & Geminiã€æ™ºè°± ChatGLMã€ç™¾åº¦æ–‡å¿ƒä¸€è¨€ã€è®¯é£æ˜Ÿç«è®¤çŸ¥ã€é˜¿é‡Œé€šä¹‰åƒé—®ã€360 æ™ºè„‘ä»¥åŠè…¾è®¯æ··å…ƒï¼Œå¯ç”¨äºäºŒæ¬¡åˆ†å‘ç®¡ç† keyï¼Œä»…å•å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå·²æ‰“åŒ…å¥½ Docker é•œåƒï¼Œä¸€é”®éƒ¨ç½²ï¼Œå¼€ç®±å³ç”¨. OpenAI key management & redistribution system, using a single API for all LLMs, and features an English UI.

åˆ’é‡ç‚¹ï¼ï¼ï¼

*   â­ï¸â­ï¸â­ï¸ OpenAI æ¥å£ç®¡ç† & åˆ†å‘ç³»ç»Ÿ
*   â­ï¸â­ï¸â­ï¸å¯ç”¨äºäºŒæ¬¡åˆ†å‘ç®¡ç† key

â­ï¸â­ï¸â­ï¸æ”¯æŒçš„ AI å¤§æ¨¡å‹æœ‰äºŒåå¤šç§ï¼ŒæŒ‘å‡ ä¸ªå¤§å®¶ç†ŸçŸ¥çš„åˆ—åˆ—ï¼š

*   [OpenAI ChatGPT ç³»åˆ—æ¨¡å‹](https://platform.openai.com/docs/guides/gpt/chat-completions-api)ï¼ˆæ”¯æŒ [Azure OpenAI API](https://learn.microsoft.com/en-us/azure/ai-services/openai/reference)ï¼‰
*   [Anthropic Claude ç³»åˆ—æ¨¡å‹](https://anthropic.com/) (æ”¯æŒ AWS Claude)
*   [Google PaLM2/Gemini ç³»åˆ—æ¨¡å‹](https://developers.generativeai.google/)
*   [Mistral ç³»åˆ—æ¨¡å‹](https://mistral.ai/)
*   [ç™¾åº¦æ–‡å¿ƒä¸€è¨€ç³»åˆ—æ¨¡å‹](https://cloud.baidu.com/doc/WENXINWORKSHOP/index.html)
*   [é˜¿é‡Œé€šä¹‰åƒé—®ç³»åˆ—æ¨¡å‹](https://help.aliyun.com/document_detail/2400395.html)
*   [Moonshot AI](https://platform.moonshot.cn/)
*   [Ollama](https://github.com/ollama/ollama)
*   [Coze](https://www.coze.com/)

è¿˜æœ‰å…¶ä»–ä¸€å¤§æ³¢æ¨¡å‹ä¹Ÿæ­£åœ¨æ”¯æŒçš„è·¯ä¸Šï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è®¿é—® [One API çš„é¡¹ç›®åœ°å€](https://github.com/songquanpeng/one-api?tab=readme-ov-file#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95)è‡ªè¡ŒæŸ¥çœ‹å“¦ğŸ‘€

### ä½¿ç”¨ Docker éƒ¨ç½²

å®é™…ä¸Šé¡¹ç›®ä½œè€…æä¾›äº† 6 ç§éƒ¨ç½²æ–¹å¼ï¼Œå¤–åŠ éƒ¨ç½²ä¹‹åå¦‚ä½•é…åˆç¬¬ä¸‰æ–¹æœåŠ¡ä½¿ç”¨ One APIã€‚åˆ†åˆ«æ˜¯ï¼š

#### 6 ç§éƒ¨ç½²æ–¹å¼

1.  Docker éƒ¨ç½²ï¼ˆ**æœ¬æ¬¡ä½¿ç”¨ Docker éƒ¨ç½²**ï¼‰
2.  Docker Compose éƒ¨ç½²
3.  æ‰‹åŠ¨éƒ¨ç½²
4.  å¤šæœºéƒ¨ç½²
5.  å®å¡”éƒ¨ç½²æ•™ç¨‹
6.  éƒ¨ç½²åˆ°ç¬¬ä¸‰æ–¹å¹³å°

#### éƒ¨ç½²ç¬¬ä¸‰æ–¹æœåŠ¡é…åˆ One API ä½¿ç”¨

*   ChatGPT Next Web
*   ChatGPT Web
*   QChatGPT - QQ æœºå™¨äºº

#### éƒ¨ç½²

åœ¨åŸºäº Docker è¿›è¡Œéƒ¨ç½²æ—¶ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±è§„åˆ’çš„å¹¶å‘é‡æ¥é€‰æ‹©ä½¿ç”¨ SQLite è¿˜æ˜¯ MySQLï¼Œå¦‚æœå¹¶å‘é‡æ¯”è¾ƒå¤§ï¼ŒåŠ¡å¿…è®¾ç½® `SQL_DSN`ã€‚

```bash
# ä½¿ç”¨ SQLite çš„éƒ¨ç½²å‘½ä»¤ï¼š
docker run --name one-api -d --restart always -p 3000:3000 -e TZ=Asia/Shanghai -v /home/ubuntu/data/one-api:/data justsong/one-api
# ä½¿ç”¨ MySQL çš„éƒ¨ç½²å‘½ä»¤ï¼Œåœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šæ·»åŠ  `-e SQL_DSN="root:123456@tcp(localhost:3306)/oneapi"`ï¼Œè¯·è‡ªè¡Œä¿®æ”¹æ•°æ®åº“è¿æ¥å‚æ•°ï¼Œä¸æ¸…æ¥šå¦‚ä½•ä¿®æ”¹è¯·å‚è§ä¸‹é¢ç¯å¢ƒå˜é‡ä¸€èŠ‚ã€‚
# ä¾‹å¦‚ï¼š
docker run --name one-api -d --restart always -p 3000:3000 -e SQL_DSN="root:123456@tcp(localhost:3306)/oneapi" -e TZ=Asia/Shanghai -v /home/ubuntu/data/one-api:/data justsong/one-api
```

åœ¨éƒ¨ç½²å¥½ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è®¿é—®`æœåŠ¡å™¨ IP:3000` çš„æ–¹å¼æ¥è®¿é—®é¡¹ç›®äº†ã€‚

![](https://note.ihsxu.com/api/imgs/1716654701851.webp)

æˆ‘ä»¬ç‚¹å‡»å³ä¸Šè§’çš„ç™»å½•æŒ‰é’®è¿›è¡Œç™»å½•ï¼ˆé»˜è®¤è´¦å·å¯†ç æ˜¯ root/123456ï¼‰

![](https://note.ihsxu.com/api/imgs/1716655015985.webp)

#### é…ç½®æ¸ é“

ç™»å½•åä¼šè·³è½¬åˆ°ä¿®æ”¹å¯†ç é¡µé¢ï¼Œä¿®æ”¹å®Œå¯†ç ä¹‹åå°±å¯ä»¥ç©å„¿èµ·é‡Œé¢çš„åŠŸèƒ½äº†ã€‚

![](https://note.ihsxu.com/api/imgs/1716655213502.webp)

è¿™é‡Œæˆ‘ä»¬ç»“åˆä¹‹å‰éƒ¨ç½²è¿‡çš„ coze-discord-proxy åšè‡ªå®šä¹‰æ¸ é“ï¼š

![](https://note.ihsxu.com/api/imgs/1716766334499.webp)

![](https://note.ihsxu.com/api/imgs/1716766599531.webp)

æäº¤ä¿å­˜ï¼Œç„¶åå›åˆ°æ¸ é“é¡µé¢è¿›è¡Œæµ‹è¯•ï¼š

![](https://note.ihsxu.com/api/imgs/1716768036016.webp)

> æµ‹è¯•é€šè¿‡ï¼Œå°±æ˜¯å“åº”æ—¶é—´æœ‰äº›é•¿ã€‚

#### åˆ›å»ºä»¤ç‰Œ

![](https://note.ihsxu.com/api/imgs/1716819401189.webp)

![](https://note.ihsxu.com/api/imgs/1716819520045.webp)

![](https://note.ihsxu.com/api/imgs/1716819591097.webp)

ç‚¹å‡»å¤åˆ¶ï¼Œç„¶åå°±å¯ä»¥æ‰‹åŠ¨å¤åˆ¶ä¸€ä¸ª API Key äº†ï¼š

![](https://note.ihsxu.com/api/imgs/1716819668275.webp)

#### æµ‹è¯• Key

å¤åˆ¶å¥½ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ NextChat ä¸Šè¿›è¡Œæµ‹è¯•ï¼Œä¿®æ”¹çº¢æ¡†ä¸­çš„é…ç½®é¡¹ï¼Œå…¶ä¸­æ¥å£åœ°å€å°±æ˜¯ One API çš„æœåŠ¡åœ°å€ï¼š

![](https://note.ihsxu.com/api/imgs/1716820253034.webp)

å›åˆ°å¯¹è¯æ¡†å¼€å§‹å¯¹è¯ï¼š

![](https://note.ihsxu.com/api/imgs/1716820327657.webp)

å®Œæˆï½ğŸ˜„


